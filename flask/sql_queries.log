2025-06-30 10:55:51,251 - INFO - Client disconnected from WebSocket
2025-06-30 10:55:53,878 - INFO - Client disconnected from WebSocket
2025-06-30 10:58:35,057 - INFO - Client disconnected from WebSocket
2025-06-30 11:21:11,177 - INFO - Client disconnected from WebSocket
2025-06-30 11:22:04,064 - INFO - Client disconnected from WebSocket
2025-06-30 11:22:41,111 - INFO - Client disconnected from WebSocket
2025-06-30 11:23:00,156 - INFO - Client disconnected from WebSocket
2025-06-30 11:23:12,871 - INFO - Client disconnected from WebSocket
2025-06-30 11:23:48,506 - INFO - Client disconnected from WebSocket
2025-06-30 11:24:03,049 - INFO - Client disconnected from WebSocket
2025-06-30 11:24:10,930 - INFO - Client disconnected from WebSocket
2025-06-30 11:24:20,937 - INFO - Client disconnected from WebSocket
2025-06-30 11:24:40,095 - INFO - Client disconnected from WebSocket
2025-06-30 11:25:09,786 - INFO - Client disconnected from WebSocket
2025-06-30 11:25:13,221 - INFO - Client disconnected from WebSocket
2025-06-30 11:25:44,542 - INFO - Client disconnected from WebSocket
2025-06-30 11:25:50,834 - INFO - Client disconnected from WebSocket
2025-06-30 11:28:16,914 - INFO - Client disconnected from WebSocket
2025-06-30 11:28:51,012 - INFO - Fetching staff info for email allphonesblog@gmail.com:

        SELECT id as staff_id, email, name, workspace
        FROM linked_users
        WHERE email = %s AND password IS NOT NULL
        LIMIT 1
    
2025-06-30 11:28:51,014 - INFO - Fetching owner_id for workspace reviewbod:

        SELECT id as owner_id
        FROM users
        WHERE workspace = %s
        LIMIT 1
    
2025-06-30 11:28:51,014 - INFO - chat_id_enc 
2025-06-30 11:28:51,609 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:28:51,988 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:28:52,087 - INFO - Created new chat with ID 102 and UUID 920047d7-7acb-4c18-a3a0-35b7a36e97d8 for staff_id 5
2025-06-30 11:28:52,087 - INFO - 920047d7-7acb-4c18-a3a0-35b7a36e97d8
2025-06-30 11:28:52,088 - INFO - Executing chat history query for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8:

        SELECT sender_type, message, reaction
        FROM chat_messages
        WHERE chat_id = %s
        ORDER BY created_at DESC
        LIMIT 10
    
2025-06-30 11:28:52,089 - INFO - Saving message to DB for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8, staff_id 5:

        INSERT INTO chat_messages (chat_id, staff_id, owner_id, sender_type, message)
        VALUES (%s, %s, %s, %s, %s)
    
2025-06-30 11:28:52,092 - INFO - Generated unique_id_with_template: uid_3dd266794b7e4cb5983412b972ec0d31_e44ffe7551f22dea_1751282932092
2025-06-30 11:28:52,092 - INFO - Fetching workspace types for owner_id 1:

        SELECT type
        FROM linked
        WHERE userid = %s
    
2025-06-30 11:28:52,093 - INFO - Fetching user metrics for owner_id 1:

        SELECT title, description, category, weight, percentage, metric_id
        FROM user_metrics
        WHERE userid = %s
        ORDER BY created_at DESC
    
2025-06-30 11:28:52,094 - INFO - Processing query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1: Which of my tasks need priority or status updates?
2025-06-30 11:28:52,094 - INFO - Generated unique_id_with_template: uid_3dd266794b7e4cb5983412b972ec0d31_e44ffe7551f22dea_1751282932092
2025-06-30 11:28:52,094 - INFO - User metrics loaded: 4 metrics
2025-06-30 11:28:52,094 - INFO - Staff info - Name: allphonesblog ng, Email: allphonesblog@gmail.com, Workspace: reviewbod
2025-06-30 11:28:52,966 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:28:52,996 - INFO - Intent classification: sql
2025-06-30 11:28:53,016 - INFO - Database schema: "\nCREATE TABLE linked (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttype VARCHAR(100) NOT NULL, \n\tslack_channel VARCHAR(255), \n\ttoken TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL, \n\towner_id INTEGER, \n\tuserid INTEGER NOT NULL, \n\tcloud_id VARCHAR(255), \n\tbot TEXT, \n\tjson TEXT, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from linked table:\nid\ttype\tslack_channel\ttoken\towner_id\tuserid\tcloud_id\tbot\tjson\tcreated_at\n1\tlinear\tNone\tlin_oauth_a84c21c91ff8ca0667ab48b4234eaa9a0f236202b45c535d1db7d3515f5d3c42\tNone\t1\tNone\tNone\t{\"access_token\":\"lin_oauth_a84c21c91ff8ca0667ab48b4234eaa9a0f236202b45c535d1db7d3515f5d3c42\",\"token_\t2025-06-05 14:49:34\n3\tlinear\tNone\tlin_oauth_740eee0ff4bf659babba481407b31a1e890e7a2d85bd9ea87f605e0b3bb26fb9\tNone\t2\tNone\tNone\t{\"access_token\":\"lin_oauth_740eee0ff4bf659babba481407b31a1e890e7a2d85bd9ea87f605e0b3bb26fb9\",\"token_\t2025-06-15 11:23:22\n4\tlinear\tNone\tlin_oauth_02a5455953ec7f91656029d97c55ee4af928ecaf93625992d4cfba74f9b9b98e\tNone\t4\tNone\tNone\t{\"access_token\":\"lin_oauth_02a5455953ec7f91656029d97c55ee4af928ecaf93625992d4cfba74f9b9b98e\",\"token_\t2025-06-16 15:41:09\n*/\n\n\nCREATE TABLE platform_users (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tname VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci, \n\temail VARCHAR(255), \n\tuser_id VARCHAR(255), \n\tplatform_id INTEGER, \n\tfull_name VARCHAR(255), \n\tsource VARCHAR(50) DEFAULT 'tasks', \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from platform_users table:\nid\tname\temail\tuser_id\tplatform_id\tfull_name\tsource\tcreated_at\tupdated_at\towner_id\n1\tprebad50@gmail.com\tprebad50@gmail.com\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t1\tprebad50@gmail.com\tlinear\t2025-06-01 09:02:23\t2025-06-01 09:02:23\t1\n2\tgodswillikwan01@gmail.com\tgodswillikwan01@gmail.com\tb99caeb0-2bb3-4c15-9297-e657a46a3377\t1\tgodswillikwan01@gmail.com\tlinear\t2025-05-11 17:43:54\t2025-05-11 17:43:54\t1\n3\tdev.ayomide@gmail.com\tdev.ayomide@gmail.com\t1d66d358-c981-4563-917f-8e8b35b497e6\t1\tdev.ayomide@gmail.com\tlinear\t2025-03-18 09:45:42\t2025-03-18 09:45:42\t1\n*/\n\n\nCREATE TABLE projects (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tplatform_id VARCHAR(255), \n\tuser_id INTEGER, \n\tname VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\tstart_date VARCHAR(255), \n\tend_date VARCHAR(255), \n\tproject_key TEXT, \n\tstate VARCHAR(50), \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\ttype VARCHAR(255) NOT NULL DEFAULT 'project', \n\tlast_synced_at TIMESTAMP NULL, \n\tcreator VARCHAR(255), \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from projects table:\nid\tplatform_id\tuser_id\tname\tdescription\tstart_date\tend_date\tproject_key\tstate\tsource\ttype\tlast_synced_at\tcreator\tcreated_at\tupdated_at\towner_id\n1\t1\t1\tAutomated Testing Framework\tDevelop a framework for automated testing to improve code quality and reduce manual testing efforts \t2025-06-18 18:07:50\tNone\ta7b01a44-f674-4aea-af6f-24cc9238c440\tstarted\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:07:50\t2025-06-18 18:07:50\t1\n2\t1\t1\tSelf-Service Knowledge Base\tCreate a platform for users to access guides, FAQs, and troubleshooting tips to reduce support reque\t2025-06-18 18:07:06\tNone\t66ef2686-929d-428c-96a4-8a6e8c37d8c1\tplanned\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:07:06\t2025-06-18 18:07:06\t1\n3\t1\t1\tAI-Powered Help Desk\tDevelop a system to automate support ticket categorization and response suggestions using machine le\t2025-06-18 18:06:32\tNone\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\tstarted\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:06:32\t2025-06-18 18:06:32\t1\n*/\n\n\nCREATE TABLE status_jira (\n\tid BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, \n\tuser_id VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tplatform_id BIGINT UNSIGNED NOT NULL, \n\tstatus_key VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\towner_id VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\ttype VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tstatus VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tcreated_at TIMESTAMP NULL, \n\tupdated_at TIMESTAMP NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_unicode_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from status_jira table:\nid\tuser_id\tplatform_id\tstatus_key\towner_id\ttype\tstatus\tcreated_at\tupdated_at\n\n*/\n\n\nCREATE TABLE status_trello (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttype VARCHAR(255) NOT NULL, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tuser_id INTEGER, \n\tplatform_id VARCHAR(255), \n\tstatus_key VARCHAR(255), \n\towner_id INTEGER, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from status_trello table:\nid\ttype\tcreated_at\tuser_id\tplatform_id\tstatus_key\towner_id\n1\tTo Do\t2025-06-23 20:30:09\t1\t15\t5f3ba24b5b55dd5de59c2842\t1\n2\tRequirements\t2025-06-23 20:30:09\t1\t15\t5f3ba24b5b55dd5de59c2843\t1\n3\tDoing\t2025-06-23 20:30:09\t1\t15\t5f3fa7b59989f64b20711c6a\t1\n*/\n\n\nCREATE TABLE sub_issues (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttitle TEXT, \n\tsub_task_id VARCHAR(300), \n\tstatus VARCHAR(255), \n\tuser_id VARCHAR(255), \n\tplatform_id INTEGER, \n\tis_deleted INTEGER, \n\ttask_id VARCHAR(255) NOT NULL, \n\towner_id INTEGER, \n\tcreated_at VARCHAR(255), \n\tupdated_at VARCHAR(255), \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from sub_issues table:\nid\ttitle\tsub_task_id\tstatus\tuser_id\tplatform_id\tis_deleted\ttask_id\towner_id\tcreated_at\tupdated_at\n1\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t4\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t4\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n2\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t1\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n3\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t4\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t4\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n*/\n\n\nCREATE TABLE tasks (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tproject_id VARCHAR(255), \n\tteam_id VARCHAR(255), \n\tplatform_id VARCHAR(255), \n\tparent_id VARCHAR(255), \n\tuser_id VARCHAR(255), \n\ttitle VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tpriority VARCHAR(265), \n\tlabels JSON, \n\testimate FLOAT, \n\tdue_date VARCHAR(255), \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\tlast_synced_at TIMESTAMP NULL, \n\tis_deleted TINYINT(1) DEFAULT '0', \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tchecklists LONGTEXT, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from tasks table:\nid\tproject_id\tteam_id\tplatform_id\tparent_id\tuser_id\ttitle\tdescription\tstatus\tpriority\tlabels\testimate\tdue_date\tsource\tlast_synced_at\tis_deleted\tcreated_at\tchecklists\tupdated_at\towner_id\n1\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t4\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1d66d358-c981-4563-917f-8e8b35b497e6\tDevelop Ticket Categorization Model\tDesign and implement a machine learning model to categorize support tickets based on their content. \tDuplicate\t2\t[]\t13.0\tNone\tlinear\t2025-06-19 11:21:38\tNone\t2025-06-18 18:06:46\tNone\t2025-06-19 10:21:37\t4\n2\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t1\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1d66d358-c981-4563-917f-8e8b35b497e6\tDevelop Ticket Categorization Model\tDesign and implement a machine learning model to categorize support tickets based on their content. \tDuplicate\t2\t[]\t13.0\tNone\tlinear\t2025-06-19 11:21:38\tNone\t2025-06-18 18:06:46\tNone\t2025-06-19 10:21:37\t1\n3\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t4\t4d455271-c73f-4c66-9868-4e829c3c64f4\tae80d1ab-25b0-436a-8f07-cf84b3ddd46a\tIntegrate Response Suggestion System\tImplement a system that suggests responses to support tickets using a pre-trained model. Acceptance \tDuplicate\t3\t[]\t8.0\tNone\tlinear\t2025-06-19 11:21:34\tNone\t2025-06-18 18:06:50\tNone\t2025-06-19 10:21:34\t4\n*/\n\n\nCREATE TABLE teams (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tuser_id INTEGER, \n\tplatform_id VARCHAR(255), \n\tname VARCHAR(255) NOT NULL, \n\tteam_key VARCHAR(50), \n\tdescription TEXT, \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\tlast_synced_at TIMESTAMP NULL, \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from teams table:\nid\tuser_id\tplatform_id\tname\tteam_key\tdescription\tsource\tlast_synced_at\tcreated_at\tupdated_at\towner_id\n1\t1\t1\tHelp and support\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:06:40\t2025-06-17 20:06:40\t1\n2\t1\t1\tTesters\tf6a76b45-8a4f-40c9-a965-62cb1cdb5e9c\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:06:02\t2025-06-17 20:06:02\t1\n3\t1\t1\tMarketing\tc8215456-ff8b-4b45-93c7-f0350f13f7fb\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:05:45\t2025-06-17 20:05:45\t1\n*/\n\n\nCREATE TABLE user_metrics (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttitle TEXT, \n\tdescription TEXT, \n\tcustom_name TEXT, \n\tcustom_description TEXT, \n\tcategory TEXT, \n\tweight VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '0', \n\tpercentage VARCHAR(255) DEFAULT '0', \n\tmetric_id INTEGER, \n\tuserid INTEGER NOT NULL, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from user_metrics table:\nid\ttitle\tdescription\tcustom_name\tcustom_description\tcategory\tweight\tpercentage\tmetric_id\tuserid\tcreated_at\n5\tMean Absolute Error (MAE)\tAverage absolute difference between predictions and actual values.\tNone\tNone\t2\t2\t17\t5\t1\t2025-06-27 11:37:53\n6\tMean Squared Error (MSE)\tAverage squared difference between predictions and actual values.\tNone\tNone\t2\t3\t25\t6\t1\t2025-06-27 11:37:53\n7\tRoot Mean Squared Error (RMSE)\tSquare root of the average of squared errors.\tNone\tNone\t2\t5\t42\t7\t1\t2025-06-27 11:37:53\n*/\n\n\nCREATE TABLE users (\n\tid BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, \n\tname VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\temail VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tphone VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tcompany_name VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\temail_verified_at TIMESTAMP NULL, \n\ttoken VARCHAR(100) COLLATE utf8mb4_unicode_ci, \n\tverified INTEGER, \n\tpassword VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tservice VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tworkspace VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tstatus VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active', \n\tremember_token VARCHAR(100) COLLATE utf8mb4_unicode_ci, \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_unicode_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from users table:\nid\tname\temail\tphone\tcompany_name\temail_verified_at\ttoken\tverified\tpassword\tservice\tworkspace\tstatus\tremember_token\tcreated_at\tupdated_at\n1\tGodspower Patrick\tallphonesblog@gmail.com\t08074725983\tNone\tNone\t903963\t1\t$2y$12$XcI66Tv3gAu/NPiOq2wVzOKhMb2SZKrERsPCWQZ60cCSHYNdgRNxa\tlinear\treviewbod\tactive\tNone\t2025-05-31 12:42:31\t2025-05-31 12:42:31\n3\tMishael Emmanuel\tmishaelemmanuel@outlook.com\t2347063419210\tNone\tNone\t155672\t1\t$2y$12$660nRbBdBQzWXwYlBlQqG.eTG78thuuBVhWRwQJCl67psgr6x8RfS\tNone\tNone\tactive\tNone\t2025-06-01 09:52:55\t2025-06-01 09:52:55\n4\tAyomide oloyede\tdev.ayomide@gmail.com\t0709232323\tNone\tNone\t467057\t1\t$2y$12$Q/6KRftlDrlM3F8AeOaml.QuFYG9oBpSUtXbiKojWIfM3BA9KNlaK\tlinear\tNone\tactive\tNone\t2025-06-01 11:44:18\t2025-06-01 11:44:18\n*/"
2025-06-30 11:28:54,025 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:28:55,157 - INFO - Generated SQL Query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1:
SELECT DISTINCT tasks.id,
                tasks.title,
                tasks.status AS task_status,
                tasks.priority,
                users.name AS owner_name,
                projects.name AS project_name,
                tasks.source AS task_source
FROM tasks
JOIN users ON users.id = tasks.owner_id
JOIN platform_users ON platform_users.user_id = tasks.user_id
LEFT JOIN projects ON projects.id = tasks.project_id
AND projects.owner_id = tasks.owner_id
WHERE platform_users.email = 'allphonesblog@gmail.com'
  AND users.workspace = 'reviewbod'
  AND tasks.is_deleted IS NULL
  AND (tasks.priority IS NOT NULL
       OR tasks.status IS NOT NULL);
2025-06-30 11:28:55,161 - INFO - Raw DB data retrieved: 30 rows
2025-06-30 11:28:55,161 - INFO - Sample data: {'id': 304, 'title': 'Implement solutions', 'task_status': 'Backlog', 'priority': '3', 'owner_name': 'Godspower Patrick', 'project_name': None, 'task_source': 'linear'}
2025-06-30 11:28:55,162 - INFO - Final prompt created with unique_id_with_template: uid_3dd266794b7e4cb5983412b972ec0d31_e44ffe7551f22dea_1751282932092
2025-06-30 11:28:55,707 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:23,087 - INFO - Fetching staff info for email allphonesblog@gmail.com:

        SELECT id as staff_id, email, name, workspace
        FROM linked_users
        WHERE email = %s AND password IS NOT NULL
        LIMIT 1
    
2025-06-30 11:29:23,088 - INFO - Fetching owner_id for workspace reviewbod:

        SELECT id as owner_id
        FROM users
        WHERE workspace = %s
        LIMIT 1
    
2025-06-30 11:29:23,089 - INFO - chat_id_enc 920047d7-7acb-4c18-a3a0-35b7a36e97d8
2025-06-30 11:29:23,089 - INFO - Executing chat history query for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8:

        SELECT sender_type, message, reaction
        FROM chat_messages
        WHERE chat_id = %s
        ORDER BY created_at DESC
        LIMIT 10
    
2025-06-30 11:29:23,091 - INFO - Saving message to DB for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8, staff_id 5:

        INSERT INTO chat_messages (chat_id, staff_id, owner_id, sender_type, message)
        VALUES (%s, %s, %s, %s, %s)
    
2025-06-30 11:29:23,094 - INFO - Generated unique_id_with_template: uid_d2c75b9ddead4d2aad2976ed77b99146_ebc5a8c4386fe639_1751282963094
2025-06-30 11:29:23,095 - INFO - Fetching workspace types for owner_id 1:

        SELECT type
        FROM linked
        WHERE userid = %s
    
2025-06-30 11:29:23,095 - INFO - Fetching user metrics for owner_id 1:

        SELECT title, description, category, weight, percentage, metric_id
        FROM user_metrics
        WHERE userid = %s
        ORDER BY created_at DESC
    
2025-06-30 11:29:23,096 - INFO - Processing query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1: Which platform do I use most for task management?
2025-06-30 11:29:23,096 - INFO - Generated unique_id_with_template: uid_d2c75b9ddead4d2aad2976ed77b99146_ebc5a8c4386fe639_1751282963094
2025-06-30 11:29:23,096 - INFO - User metrics loaded: 4 metrics
2025-06-30 11:29:23,096 - INFO - Staff info - Name: allphonesblog ng, Email: allphonesblog@gmail.com, Workspace: reviewbod
2025-06-30 11:29:23,303 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:23,325 - INFO - Intent classification: sql
2025-06-30 11:29:23,338 - INFO - Database schema: "\nCREATE TABLE linked (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttype VARCHAR(100) NOT NULL, \n\tslack_channel VARCHAR(255), \n\ttoken TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL, \n\towner_id INTEGER, \n\tuserid INTEGER NOT NULL, \n\tcloud_id VARCHAR(255), \n\tbot TEXT, \n\tjson TEXT, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from linked table:\nid\ttype\tslack_channel\ttoken\towner_id\tuserid\tcloud_id\tbot\tjson\tcreated_at\n1\tlinear\tNone\tlin_oauth_a84c21c91ff8ca0667ab48b4234eaa9a0f236202b45c535d1db7d3515f5d3c42\tNone\t1\tNone\tNone\t{\"access_token\":\"lin_oauth_a84c21c91ff8ca0667ab48b4234eaa9a0f236202b45c535d1db7d3515f5d3c42\",\"token_\t2025-06-05 14:49:34\n3\tlinear\tNone\tlin_oauth_740eee0ff4bf659babba481407b31a1e890e7a2d85bd9ea87f605e0b3bb26fb9\tNone\t2\tNone\tNone\t{\"access_token\":\"lin_oauth_740eee0ff4bf659babba481407b31a1e890e7a2d85bd9ea87f605e0b3bb26fb9\",\"token_\t2025-06-15 11:23:22\n4\tlinear\tNone\tlin_oauth_02a5455953ec7f91656029d97c55ee4af928ecaf93625992d4cfba74f9b9b98e\tNone\t4\tNone\tNone\t{\"access_token\":\"lin_oauth_02a5455953ec7f91656029d97c55ee4af928ecaf93625992d4cfba74f9b9b98e\",\"token_\t2025-06-16 15:41:09\n*/\n\n\nCREATE TABLE platform_users (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tname VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci, \n\temail VARCHAR(255), \n\tuser_id VARCHAR(255), \n\tplatform_id INTEGER, \n\tfull_name VARCHAR(255), \n\tsource VARCHAR(50) DEFAULT 'tasks', \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from platform_users table:\nid\tname\temail\tuser_id\tplatform_id\tfull_name\tsource\tcreated_at\tupdated_at\towner_id\n1\tprebad50@gmail.com\tprebad50@gmail.com\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t1\tprebad50@gmail.com\tlinear\t2025-06-01 09:02:23\t2025-06-01 09:02:23\t1\n2\tgodswillikwan01@gmail.com\tgodswillikwan01@gmail.com\tb99caeb0-2bb3-4c15-9297-e657a46a3377\t1\tgodswillikwan01@gmail.com\tlinear\t2025-05-11 17:43:54\t2025-05-11 17:43:54\t1\n3\tdev.ayomide@gmail.com\tdev.ayomide@gmail.com\t1d66d358-c981-4563-917f-8e8b35b497e6\t1\tdev.ayomide@gmail.com\tlinear\t2025-03-18 09:45:42\t2025-03-18 09:45:42\t1\n*/\n\n\nCREATE TABLE projects (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tplatform_id VARCHAR(255), \n\tuser_id INTEGER, \n\tname VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\tstart_date VARCHAR(255), \n\tend_date VARCHAR(255), \n\tproject_key TEXT, \n\tstate VARCHAR(50), \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\ttype VARCHAR(255) NOT NULL DEFAULT 'project', \n\tlast_synced_at TIMESTAMP NULL, \n\tcreator VARCHAR(255), \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from projects table:\nid\tplatform_id\tuser_id\tname\tdescription\tstart_date\tend_date\tproject_key\tstate\tsource\ttype\tlast_synced_at\tcreator\tcreated_at\tupdated_at\towner_id\n1\t1\t1\tAutomated Testing Framework\tDevelop a framework for automated testing to improve code quality and reduce manual testing efforts \t2025-06-18 18:07:50\tNone\ta7b01a44-f674-4aea-af6f-24cc9238c440\tstarted\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:07:50\t2025-06-18 18:07:50\t1\n2\t1\t1\tSelf-Service Knowledge Base\tCreate a platform for users to access guides, FAQs, and troubleshooting tips to reduce support reque\t2025-06-18 18:07:06\tNone\t66ef2686-929d-428c-96a4-8a6e8c37d8c1\tplanned\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:07:06\t2025-06-18 18:07:06\t1\n3\t1\t1\tAI-Powered Help Desk\tDevelop a system to automate support ticket categorization and response suggestions using machine le\t2025-06-18 18:06:32\tNone\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\tstarted\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:06:32\t2025-06-18 18:06:32\t1\n*/\n\n\nCREATE TABLE status_jira (\n\tid BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, \n\tuser_id VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tplatform_id BIGINT UNSIGNED NOT NULL, \n\tstatus_key VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\towner_id VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\ttype VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tstatus VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tcreated_at TIMESTAMP NULL, \n\tupdated_at TIMESTAMP NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_unicode_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from status_jira table:\nid\tuser_id\tplatform_id\tstatus_key\towner_id\ttype\tstatus\tcreated_at\tupdated_at\n\n*/\n\n\nCREATE TABLE status_trello (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttype VARCHAR(255) NOT NULL, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tuser_id INTEGER, \n\tplatform_id VARCHAR(255), \n\tstatus_key VARCHAR(255), \n\towner_id INTEGER, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from status_trello table:\nid\ttype\tcreated_at\tuser_id\tplatform_id\tstatus_key\towner_id\n1\tTo Do\t2025-06-23 20:30:09\t1\t15\t5f3ba24b5b55dd5de59c2842\t1\n2\tRequirements\t2025-06-23 20:30:09\t1\t15\t5f3ba24b5b55dd5de59c2843\t1\n3\tDoing\t2025-06-23 20:30:09\t1\t15\t5f3fa7b59989f64b20711c6a\t1\n*/\n\n\nCREATE TABLE sub_issues (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttitle TEXT, \n\tsub_task_id VARCHAR(300), \n\tstatus VARCHAR(255), \n\tuser_id VARCHAR(255), \n\tplatform_id INTEGER, \n\tis_deleted INTEGER, \n\ttask_id VARCHAR(255) NOT NULL, \n\towner_id INTEGER, \n\tcreated_at VARCHAR(255), \n\tupdated_at VARCHAR(255), \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from sub_issues table:\nid\ttitle\tsub_task_id\tstatus\tuser_id\tplatform_id\tis_deleted\ttask_id\towner_id\tcreated_at\tupdated_at\n1\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t4\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t4\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n2\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t1\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n3\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t4\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t4\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n*/\n\n\nCREATE TABLE tasks (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tproject_id VARCHAR(255), \n\tteam_id VARCHAR(255), \n\tplatform_id VARCHAR(255), \n\tparent_id VARCHAR(255), \n\tuser_id VARCHAR(255), \n\ttitle VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tpriority VARCHAR(265), \n\tlabels JSON, \n\testimate FLOAT, \n\tdue_date VARCHAR(255), \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\tlast_synced_at TIMESTAMP NULL, \n\tis_deleted TINYINT(1) DEFAULT '0', \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tchecklists LONGTEXT, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from tasks table:\nid\tproject_id\tteam_id\tplatform_id\tparent_id\tuser_id\ttitle\tdescription\tstatus\tpriority\tlabels\testimate\tdue_date\tsource\tlast_synced_at\tis_deleted\tcreated_at\tchecklists\tupdated_at\towner_id\n1\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t4\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1d66d358-c981-4563-917f-8e8b35b497e6\tDevelop Ticket Categorization Model\tDesign and implement a machine learning model to categorize support tickets based on their content. \tDuplicate\t2\t[]\t13.0\tNone\tlinear\t2025-06-19 11:21:38\tNone\t2025-06-18 18:06:46\tNone\t2025-06-19 10:21:37\t4\n2\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t1\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1d66d358-c981-4563-917f-8e8b35b497e6\tDevelop Ticket Categorization Model\tDesign and implement a machine learning model to categorize support tickets based on their content. \tDuplicate\t2\t[]\t13.0\tNone\tlinear\t2025-06-19 11:21:38\tNone\t2025-06-18 18:06:46\tNone\t2025-06-19 10:21:37\t1\n3\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t4\t4d455271-c73f-4c66-9868-4e829c3c64f4\tae80d1ab-25b0-436a-8f07-cf84b3ddd46a\tIntegrate Response Suggestion System\tImplement a system that suggests responses to support tickets using a pre-trained model. Acceptance \tDuplicate\t3\t[]\t8.0\tNone\tlinear\t2025-06-19 11:21:34\tNone\t2025-06-18 18:06:50\tNone\t2025-06-19 10:21:34\t4\n*/\n\n\nCREATE TABLE teams (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tuser_id INTEGER, \n\tplatform_id VARCHAR(255), \n\tname VARCHAR(255) NOT NULL, \n\tteam_key VARCHAR(50), \n\tdescription TEXT, \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\tlast_synced_at TIMESTAMP NULL, \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from teams table:\nid\tuser_id\tplatform_id\tname\tteam_key\tdescription\tsource\tlast_synced_at\tcreated_at\tupdated_at\towner_id\n1\t1\t1\tHelp and support\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:06:40\t2025-06-17 20:06:40\t1\n2\t1\t1\tTesters\tf6a76b45-8a4f-40c9-a965-62cb1cdb5e9c\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:06:02\t2025-06-17 20:06:02\t1\n3\t1\t1\tMarketing\tc8215456-ff8b-4b45-93c7-f0350f13f7fb\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:05:45\t2025-06-17 20:05:45\t1\n*/\n\n\nCREATE TABLE user_metrics (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttitle TEXT, \n\tdescription TEXT, \n\tcustom_name TEXT, \n\tcustom_description TEXT, \n\tcategory TEXT, \n\tweight VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '0', \n\tpercentage VARCHAR(255) DEFAULT '0', \n\tmetric_id INTEGER, \n\tuserid INTEGER NOT NULL, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from user_metrics table:\nid\ttitle\tdescription\tcustom_name\tcustom_description\tcategory\tweight\tpercentage\tmetric_id\tuserid\tcreated_at\n5\tMean Absolute Error (MAE)\tAverage absolute difference between predictions and actual values.\tNone\tNone\t2\t2\t17\t5\t1\t2025-06-27 11:37:53\n6\tMean Squared Error (MSE)\tAverage squared difference between predictions and actual values.\tNone\tNone\t2\t3\t25\t6\t1\t2025-06-27 11:37:53\n7\tRoot Mean Squared Error (RMSE)\tSquare root of the average of squared errors.\tNone\tNone\t2\t5\t42\t7\t1\t2025-06-27 11:37:53\n*/\n\n\nCREATE TABLE users (\n\tid BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, \n\tname VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\temail VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tphone VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tcompany_name VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\temail_verified_at TIMESTAMP NULL, \n\ttoken VARCHAR(100) COLLATE utf8mb4_unicode_ci, \n\tverified INTEGER, \n\tpassword VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tservice VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tworkspace VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tstatus VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active', \n\tremember_token VARCHAR(100) COLLATE utf8mb4_unicode_ci, \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_unicode_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from users table:\nid\tname\temail\tphone\tcompany_name\temail_verified_at\ttoken\tverified\tpassword\tservice\tworkspace\tstatus\tremember_token\tcreated_at\tupdated_at\n1\tGodspower Patrick\tallphonesblog@gmail.com\t08074725983\tNone\tNone\t903963\t1\t$2y$12$XcI66Tv3gAu/NPiOq2wVzOKhMb2SZKrERsPCWQZ60cCSHYNdgRNxa\tlinear\treviewbod\tactive\tNone\t2025-05-31 12:42:31\t2025-05-31 12:42:31\n3\tMishael Emmanuel\tmishaelemmanuel@outlook.com\t2347063419210\tNone\tNone\t155672\t1\t$2y$12$660nRbBdBQzWXwYlBlQqG.eTG78thuuBVhWRwQJCl67psgr6x8RfS\tNone\tNone\tactive\tNone\t2025-06-01 09:52:55\t2025-06-01 09:52:55\n4\tAyomide oloyede\tdev.ayomide@gmail.com\t0709232323\tNone\tNone\t467057\t1\t$2y$12$Q/6KRftlDrlM3F8AeOaml.QuFYG9oBpSUtXbiKojWIfM3BA9KNlaK\tlinear\tNone\tactive\tNone\t2025-06-01 11:44:18\t2025-06-01 11:44:18\n*/"
2025-06-30 11:29:23,819 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:24,724 - INFO - Generated SQL Query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1:
SELECT DISTINCT tasks.id AS task_id,
                tasks.title AS task_title,
                tasks.status AS task_status,
                tasks.priority AS task_priority,
                users.name AS owner_name, -- Determine source platform
 CASE
     WHEN tasks.source = 'linear' THEN 'Linear'
     WHEN tasks.source = 'trello' THEN 'Trello'
     WHEN tasks.source = 'jira' THEN 'Jira'
     ELSE 'Unknown'
 END AS platform_source
FROM tasks
JOIN users ON users.id = tasks.owner_id
JOIN platform_users ON platform_users.user_id = tasks.user_id
WHERE platform_users.email = 'allphonesblog@gmail.com'
  AND users.workspace = 'reviewbod'
  AND tasks.is_deleted IS NULL;
2025-06-30 11:29:24,727 - INFO - Raw DB data retrieved: 30 rows
2025-06-30 11:29:24,728 - INFO - Sample data: {'task_id': 304, 'task_title': 'Implement solutions', 'task_status': 'Backlog', 'task_priority': '3', 'owner_name': 'Godspower Patrick', 'platform_source': 'Linear'}
2025-06-30 11:29:24,729 - INFO - Final prompt created with unique_id_with_template: uid_d2c75b9ddead4d2aad2976ed77b99146_ebc5a8c4386fe639_1751282963094
2025-06-30 11:29:24,987 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:36,711 - INFO - Fetching staff info for email allphonesblog@gmail.com:

        SELECT id as staff_id, email, name, workspace
        FROM linked_users
        WHERE email = %s AND password IS NOT NULL
        LIMIT 1
    
2025-06-30 11:29:36,712 - INFO - Fetching owner_id for workspace reviewbod:

        SELECT id as owner_id
        FROM users
        WHERE workspace = %s
        LIMIT 1
    
2025-06-30 11:29:36,713 - INFO - chat_id_enc 920047d7-7acb-4c18-a3a0-35b7a36e97d8
2025-06-30 11:29:36,713 - INFO - Executing chat history query for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8:

        SELECT sender_type, message, reaction
        FROM chat_messages
        WHERE chat_id = %s
        ORDER BY created_at DESC
        LIMIT 10
    
2025-06-30 11:29:36,714 - INFO - Saving message to DB for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8, staff_id 5:

        INSERT INTO chat_messages (chat_id, staff_id, owner_id, sender_type, message)
        VALUES (%s, %s, %s, %s, %s)
    
2025-06-30 11:29:36,722 - INFO - Generated unique_id_with_template: uid_116c767290c64cad9f66d4ac5ebd445c_1d4870700bc90f97_1751282976722
2025-06-30 11:29:36,723 - INFO - Fetching workspace types for owner_id 1:

        SELECT type
        FROM linked
        WHERE userid = %s
    
2025-06-30 11:29:36,723 - INFO - Fetching user metrics for owner_id 1:

        SELECT title, description, category, weight, percentage, metric_id
        FROM user_metrics
        WHERE userid = %s
        ORDER BY created_at DESC
    
2025-06-30 11:29:36,724 - INFO - Processing query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1: whats my best work
2025-06-30 11:29:36,724 - INFO - Generated unique_id_with_template: uid_116c767290c64cad9f66d4ac5ebd445c_1d4870700bc90f97_1751282976722
2025-06-30 11:29:36,724 - INFO - User metrics loaded: 4 metrics
2025-06-30 11:29:36,724 - INFO - Staff info - Name: allphonesblog ng, Email: allphonesblog@gmail.com, Workspace: reviewbod
2025-06-30 11:29:37,152 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:37,172 - INFO - Intent classification: chat
2025-06-30 11:29:37,172 - INFO - Final prompt created with unique_id_with_template: uid_116c767290c64cad9f66d4ac5ebd445c_1d4870700bc90f97_1751282976722
2025-06-30 11:29:37,393 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:50,175 - INFO - Fetching staff info for email allphonesblog@gmail.com:

        SELECT id as staff_id, email, name, workspace
        FROM linked_users
        WHERE email = %s AND password IS NOT NULL
        LIMIT 1
    
2025-06-30 11:29:50,177 - INFO - Fetching owner_id for workspace reviewbod:

        SELECT id as owner_id
        FROM users
        WHERE workspace = %s
        LIMIT 1
    
2025-06-30 11:29:50,177 - INFO - chat_id_enc 920047d7-7acb-4c18-a3a0-35b7a36e97d8
2025-06-30 11:29:50,178 - INFO - Executing chat history query for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8:

        SELECT sender_type, message, reaction
        FROM chat_messages
        WHERE chat_id = %s
        ORDER BY created_at DESC
        LIMIT 10
    
2025-06-30 11:29:50,179 - INFO - Saving message to DB for chat_id 920047d7-7acb-4c18-a3a0-35b7a36e97d8, staff_id 5:

        INSERT INTO chat_messages (chat_id, staff_id, owner_id, sender_type, message)
        VALUES (%s, %s, %s, %s, %s)
    
2025-06-30 11:29:50,182 - INFO - Generated unique_id_with_template: uid_0c31c738f50e47fabc5fcca411595a2b_bd9fc389835b0d85_1751282990182
2025-06-30 11:29:50,182 - INFO - Fetching workspace types for owner_id 1:

        SELECT type
        FROM linked
        WHERE userid = %s
    
2025-06-30 11:29:50,183 - INFO - Fetching user metrics for owner_id 1:

        SELECT title, description, category, weight, percentage, metric_id
        FROM user_metrics
        WHERE userid = %s
        ORDER BY created_at DESC
    
2025-06-30 11:29:50,184 - INFO - Processing query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1: oh.. how many tasks did i have
2025-06-30 11:29:50,184 - INFO - Generated unique_id_with_template: uid_0c31c738f50e47fabc5fcca411595a2b_bd9fc389835b0d85_1751282990182
2025-06-30 11:29:50,184 - INFO - User metrics loaded: 4 metrics
2025-06-30 11:29:50,184 - INFO - Staff info - Name: allphonesblog ng, Email: allphonesblog@gmail.com, Workspace: reviewbod
2025-06-30 11:29:50,430 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:50,450 - INFO - Intent classification: sql
2025-06-30 11:29:50,471 - INFO - Database schema: "\nCREATE TABLE linked (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttype VARCHAR(100) NOT NULL, \n\tslack_channel VARCHAR(255), \n\ttoken TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL, \n\towner_id INTEGER, \n\tuserid INTEGER NOT NULL, \n\tcloud_id VARCHAR(255), \n\tbot TEXT, \n\tjson TEXT, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from linked table:\nid\ttype\tslack_channel\ttoken\towner_id\tuserid\tcloud_id\tbot\tjson\tcreated_at\n1\tlinear\tNone\tlin_oauth_a84c21c91ff8ca0667ab48b4234eaa9a0f236202b45c535d1db7d3515f5d3c42\tNone\t1\tNone\tNone\t{\"access_token\":\"lin_oauth_a84c21c91ff8ca0667ab48b4234eaa9a0f236202b45c535d1db7d3515f5d3c42\",\"token_\t2025-06-05 14:49:34\n3\tlinear\tNone\tlin_oauth_740eee0ff4bf659babba481407b31a1e890e7a2d85bd9ea87f605e0b3bb26fb9\tNone\t2\tNone\tNone\t{\"access_token\":\"lin_oauth_740eee0ff4bf659babba481407b31a1e890e7a2d85bd9ea87f605e0b3bb26fb9\",\"token_\t2025-06-15 11:23:22\n4\tlinear\tNone\tlin_oauth_02a5455953ec7f91656029d97c55ee4af928ecaf93625992d4cfba74f9b9b98e\tNone\t4\tNone\tNone\t{\"access_token\":\"lin_oauth_02a5455953ec7f91656029d97c55ee4af928ecaf93625992d4cfba74f9b9b98e\",\"token_\t2025-06-16 15:41:09\n*/\n\n\nCREATE TABLE platform_users (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tname VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci, \n\temail VARCHAR(255), \n\tuser_id VARCHAR(255), \n\tplatform_id INTEGER, \n\tfull_name VARCHAR(255), \n\tsource VARCHAR(50) DEFAULT 'tasks', \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from platform_users table:\nid\tname\temail\tuser_id\tplatform_id\tfull_name\tsource\tcreated_at\tupdated_at\towner_id\n1\tprebad50@gmail.com\tprebad50@gmail.com\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t1\tprebad50@gmail.com\tlinear\t2025-06-01 09:02:23\t2025-06-01 09:02:23\t1\n2\tgodswillikwan01@gmail.com\tgodswillikwan01@gmail.com\tb99caeb0-2bb3-4c15-9297-e657a46a3377\t1\tgodswillikwan01@gmail.com\tlinear\t2025-05-11 17:43:54\t2025-05-11 17:43:54\t1\n3\tdev.ayomide@gmail.com\tdev.ayomide@gmail.com\t1d66d358-c981-4563-917f-8e8b35b497e6\t1\tdev.ayomide@gmail.com\tlinear\t2025-03-18 09:45:42\t2025-03-18 09:45:42\t1\n*/\n\n\nCREATE TABLE projects (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tplatform_id VARCHAR(255), \n\tuser_id INTEGER, \n\tname VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\tstart_date VARCHAR(255), \n\tend_date VARCHAR(255), \n\tproject_key TEXT, \n\tstate VARCHAR(50), \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\ttype VARCHAR(255) NOT NULL DEFAULT 'project', \n\tlast_synced_at TIMESTAMP NULL, \n\tcreator VARCHAR(255), \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from projects table:\nid\tplatform_id\tuser_id\tname\tdescription\tstart_date\tend_date\tproject_key\tstate\tsource\ttype\tlast_synced_at\tcreator\tcreated_at\tupdated_at\towner_id\n1\t1\t1\tAutomated Testing Framework\tDevelop a framework for automated testing to improve code quality and reduce manual testing efforts \t2025-06-18 18:07:50\tNone\ta7b01a44-f674-4aea-af6f-24cc9238c440\tstarted\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:07:50\t2025-06-18 18:07:50\t1\n2\t1\t1\tSelf-Service Knowledge Base\tCreate a platform for users to access guides, FAQs, and troubleshooting tips to reduce support reque\t2025-06-18 18:07:06\tNone\t66ef2686-929d-428c-96a4-8a6e8c37d8c1\tplanned\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:07:06\t2025-06-18 18:07:06\t1\n3\t1\t1\tAI-Powered Help Desk\tDevelop a system to automate support ticket categorization and response suggestions using machine le\t2025-06-18 18:06:32\tNone\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\tstarted\tlinear\tproject\t2025-06-18 19:08:04\t0a996c49-4f8f-4af7-9414-01aa7759bb08\t2025-06-18 18:06:32\t2025-06-18 18:06:32\t1\n*/\n\n\nCREATE TABLE status_jira (\n\tid BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, \n\tuser_id VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tplatform_id BIGINT UNSIGNED NOT NULL, \n\tstatus_key VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\towner_id VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\ttype VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tstatus VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tcreated_at TIMESTAMP NULL, \n\tupdated_at TIMESTAMP NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_unicode_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from status_jira table:\nid\tuser_id\tplatform_id\tstatus_key\towner_id\ttype\tstatus\tcreated_at\tupdated_at\n\n*/\n\n\nCREATE TABLE status_trello (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttype VARCHAR(255) NOT NULL, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tuser_id INTEGER, \n\tplatform_id VARCHAR(255), \n\tstatus_key VARCHAR(255), \n\towner_id INTEGER, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from status_trello table:\nid\ttype\tcreated_at\tuser_id\tplatform_id\tstatus_key\towner_id\n1\tTo Do\t2025-06-23 20:30:09\t1\t15\t5f3ba24b5b55dd5de59c2842\t1\n2\tRequirements\t2025-06-23 20:30:09\t1\t15\t5f3ba24b5b55dd5de59c2843\t1\n3\tDoing\t2025-06-23 20:30:09\t1\t15\t5f3fa7b59989f64b20711c6a\t1\n*/\n\n\nCREATE TABLE sub_issues (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttitle TEXT, \n\tsub_task_id VARCHAR(300), \n\tstatus VARCHAR(255), \n\tuser_id VARCHAR(255), \n\tplatform_id INTEGER, \n\tis_deleted INTEGER, \n\ttask_id VARCHAR(255) NOT NULL, \n\towner_id INTEGER, \n\tcreated_at VARCHAR(255), \n\tupdated_at VARCHAR(255), \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from sub_issues table:\nid\ttitle\tsub_task_id\tstatus\tuser_id\tplatform_id\tis_deleted\ttask_id\towner_id\tcreated_at\tupdated_at\n1\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t4\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t4\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n2\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t1\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n3\tData Collection for Model Training\t56b62aba-58a8-464e-bc7f-81f08ba7416a\tCanceled\tc3dd513d-b340-49fe-883e-d780403d978a\t4\tNone\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t4\t2025-06-18 18:06:46\t2025-06-19 10:21:36\n*/\n\n\nCREATE TABLE tasks (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tproject_id VARCHAR(255), \n\tteam_id VARCHAR(255), \n\tplatform_id VARCHAR(255), \n\tparent_id VARCHAR(255), \n\tuser_id VARCHAR(255), \n\ttitle VARCHAR(255) NOT NULL, \n\tdescription TEXT, \n\tstatus VARCHAR(50) NOT NULL, \n\tpriority VARCHAR(265), \n\tlabels JSON, \n\testimate FLOAT, \n\tdue_date VARCHAR(255), \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\tlast_synced_at TIMESTAMP NULL, \n\tis_deleted TINYINT(1) DEFAULT '0', \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tchecklists LONGTEXT, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from tasks table:\nid\tproject_id\tteam_id\tplatform_id\tparent_id\tuser_id\ttitle\tdescription\tstatus\tpriority\tlabels\testimate\tdue_date\tsource\tlast_synced_at\tis_deleted\tcreated_at\tchecklists\tupdated_at\towner_id\n1\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t4\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1d66d358-c981-4563-917f-8e8b35b497e6\tDevelop Ticket Categorization Model\tDesign and implement a machine learning model to categorize support tickets based on their content. \tDuplicate\t2\t[]\t13.0\tNone\tlinear\t2025-06-19 11:21:38\tNone\t2025-06-18 18:06:46\tNone\t2025-06-19 10:21:37\t4\n2\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t1\td181b6a9-2a96-480f-b82d-5a4c94f7a11b\t1d66d358-c981-4563-917f-8e8b35b497e6\tDevelop Ticket Categorization Model\tDesign and implement a machine learning model to categorize support tickets based on their content. \tDuplicate\t2\t[]\t13.0\tNone\tlinear\t2025-06-19 11:21:38\tNone\t2025-06-18 18:06:46\tNone\t2025-06-19 10:21:37\t1\n3\te09b716d-c3aa-43e1-bfc2-c0a0a5b7695a\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t4\t4d455271-c73f-4c66-9868-4e829c3c64f4\tae80d1ab-25b0-436a-8f07-cf84b3ddd46a\tIntegrate Response Suggestion System\tImplement a system that suggests responses to support tickets using a pre-trained model. Acceptance \tDuplicate\t3\t[]\t8.0\tNone\tlinear\t2025-06-19 11:21:34\tNone\t2025-06-18 18:06:50\tNone\t2025-06-19 10:21:34\t4\n*/\n\n\nCREATE TABLE teams (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\tuser_id INTEGER, \n\tplatform_id VARCHAR(255), \n\tname VARCHAR(255) NOT NULL, \n\tteam_key VARCHAR(50), \n\tdescription TEXT, \n\tsource ENUM('linear','trello','jira') NOT NULL, \n\tlast_synced_at TIMESTAMP NULL, \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, \n\towner_id INTEGER NOT NULL, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from teams table:\nid\tuser_id\tplatform_id\tname\tteam_key\tdescription\tsource\tlast_synced_at\tcreated_at\tupdated_at\towner_id\n1\t1\t1\tHelp and support\t8e2e1b68-cf6b-4ef3-9f09-dce0931a72d5\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:06:40\t2025-06-17 20:06:40\t1\n2\t1\t1\tTesters\tf6a76b45-8a4f-40c9-a965-62cb1cdb5e9c\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:06:02\t2025-06-17 20:06:02\t1\n3\t1\t1\tMarketing\tc8215456-ff8b-4b45-93c7-f0350f13f7fb\t\tlinear\t2025-06-18 19:08:04\t2025-06-17 20:05:45\t2025-06-17 20:05:45\t1\n*/\n\n\nCREATE TABLE user_metrics (\n\tid INTEGER NOT NULL AUTO_INCREMENT, \n\ttitle TEXT, \n\tdescription TEXT, \n\tcustom_name TEXT, \n\tcustom_description TEXT, \n\tcategory TEXT, \n\tweight VARCHAR(25) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '0', \n\tpercentage VARCHAR(255) DEFAULT '0', \n\tmetric_id INTEGER, \n\tuserid INTEGER NOT NULL, \n\tcreated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_0900_ai_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from user_metrics table:\nid\ttitle\tdescription\tcustom_name\tcustom_description\tcategory\tweight\tpercentage\tmetric_id\tuserid\tcreated_at\n5\tMean Absolute Error (MAE)\tAverage absolute difference between predictions and actual values.\tNone\tNone\t2\t2\t17\t5\t1\t2025-06-27 11:37:53\n6\tMean Squared Error (MSE)\tAverage squared difference between predictions and actual values.\tNone\tNone\t2\t3\t25\t6\t1\t2025-06-27 11:37:53\n7\tRoot Mean Squared Error (RMSE)\tSquare root of the average of squared errors.\tNone\tNone\t2\t5\t42\t7\t1\t2025-06-27 11:37:53\n*/\n\n\nCREATE TABLE users (\n\tid BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, \n\tname VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\temail VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tphone VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tcompany_name VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\temail_verified_at TIMESTAMP NULL, \n\ttoken VARCHAR(100) COLLATE utf8mb4_unicode_ci, \n\tverified INTEGER, \n\tpassword VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL, \n\tservice VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tworkspace VARCHAR(255) COLLATE utf8mb4_unicode_ci, \n\tstatus VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active', \n\tremember_token VARCHAR(100) COLLATE utf8mb4_unicode_ci, \n\tcreated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tupdated_at TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)COLLATE utf8mb4_unicode_ci DEFAULT CHARSET=utf8mb4 ENGINE=InnoDB\n\n/*\n3 rows from users table:\nid\tname\temail\tphone\tcompany_name\temail_verified_at\ttoken\tverified\tpassword\tservice\tworkspace\tstatus\tremember_token\tcreated_at\tupdated_at\n1\tGodspower Patrick\tallphonesblog@gmail.com\t08074725983\tNone\tNone\t903963\t1\t$2y$12$XcI66Tv3gAu/NPiOq2wVzOKhMb2SZKrERsPCWQZ60cCSHYNdgRNxa\tlinear\treviewbod\tactive\tNone\t2025-05-31 12:42:31\t2025-05-31 12:42:31\n3\tMishael Emmanuel\tmishaelemmanuel@outlook.com\t2347063419210\tNone\tNone\t155672\t1\t$2y$12$660nRbBdBQzWXwYlBlQqG.eTG78thuuBVhWRwQJCl67psgr6x8RfS\tNone\tNone\tactive\tNone\t2025-06-01 09:52:55\t2025-06-01 09:52:55\n4\tAyomide oloyede\tdev.ayomide@gmail.com\t0709232323\tNone\tNone\t467057\t1\t$2y$12$Q/6KRftlDrlM3F8AeOaml.QuFYG9oBpSUtXbiKojWIfM3BA9KNlaK\tlinear\tNone\tactive\tNone\t2025-06-01 11:44:18\t2025-06-01 11:44:18\n*/"
2025-06-30 11:29:51,166 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-30 11:29:51,779 - INFO - Generated SQL Query for user_email allphonesblog@gmail.com, staff_id 5, owner_id 1:
SELECT DISTINCT tasks.id,
                tasks.title,
                tasks.status,
                tasks.priority,
                users.name AS owner_name,
                projects.name AS project_name,
                tasks.source AS task_source
FROM tasks
JOIN users ON users.id = tasks.owner_id
JOIN platform_users ON platform_users.user_id = tasks.user_id
LEFT JOIN projects ON projects.id = tasks.project_id
AND projects.owner_id = tasks.owner_id
WHERE platform_users.email = 'allphonesblog@gmail.com'
  AND users.workspace = 'reviewbod'
  AND tasks.is_deleted IS NULL;
2025-06-30 11:29:51,782 - INFO - Raw DB data retrieved: 30 rows
2025-06-30 11:29:51,783 - INFO - Sample data: {'id': 304, 'title': 'Implement solutions', 'status': 'Backlog', 'priority': '3', 'owner_name': 'Godspower Patrick', 'project_name': None, 'task_source': 'linear'}
2025-06-30 11:29:51,783 - INFO - Final prompt created with unique_id_with_template: uid_0c31c738f50e47fabc5fcca411595a2b_bd9fc389835b0d85_1751282990182
2025-06-30 11:29:51,986 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
